<div class="loading-indicator" *ngIf="loading">
    <mat-progress-spinner color="warn" mode="indeterminate"></mat-progress-spinner>
</div>
<div style="margin: 1em;" *ngIf="!loading">
    <h1>MAGRIS GROUP</h1>
    <h3>Gestione delle categorie degli articoli.</h3>
    <mat-tab-group (selectedIndexChange)="pageChanged()">
        <mat-tab label="Nuove categorie">
            <div class="demo-tab-content">
                <categories-tree 
                [parentSubject]="parentSubject" 
                [data]="newItemsDictionary" 
                [(categories)]="categories" 
                (updateItemsCategoryInParent)="onSelectedCategoryChange($event)"
                (updateArticleCategoryInParent)="onSelectedArticleChange($event)"
                (saveArticlesInParent)="saveArticles($event)">
            </categories-tree>
            </div>
        </mat-tab>
        <mat-tab label="Categorie AD HOC">
            <div class="demo-tab-content">
                <categories-tree 
                [parentSubject]="parentSubject"
                [data]="originalItemsDictionary" 
                [categories]="categories"                 
                [readOnly]="true"></categories-tree>
            </div>  
        </mat-tab>        
        <mat-tab label="Categorie disponibili">
            <div class="demo-tab-content">                
                <modify-categories [(categories)]="categories" (saveCategories)="saveCategories($event)"></modify-categories>
            </div>
        </mat-tab>
        <mat-tab label="Export">
            <div class="demo-tab-content">
                Export dell'albero delle categorie (Work in progress).
                Da decidere il formato e/o come utilizzare l'albero. 
            </div>
        </mat-tab>
    </mat-tab-group>      
</div>